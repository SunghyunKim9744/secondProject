<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ggiriggiri.web.dao.StudyDao">

 <select id="getViewList" resultType="com.ggiriggiri.web.entity.StudyView">
		select * from StudyView
		<if test="title !=null">
		where BINARY ${title} like '%${query}%'
		</if>
		
			and id in
		<if test="ids != null">
		<foreach item="id" index="index" collection="ids"
   			open="(" separator="," close=")">
   			#{id}
   		</foreach>
   		</if>
   		
   		<if test="ids == null">
   			(0)
   		</if>
		order by regdate desc
      limit #{size} offset #{offset}
      </select>
      
      
      <select id="getByStudyIds" resultType="int">
      
      	select id from StudyView 
      	<if test="field !=null">
			where fieldName in 
		<foreach item="fd" index="index" collection="field"
   			open="(" separator="," close=")">
   			#{fd}
   		</foreach>
   		</if>
 
      
      </select>


</mapper>